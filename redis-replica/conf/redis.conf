# Redis 레플리카 설정 (Redis 7.4)
# - 이 파일은 레플리카(슬레이브) 노드의 설정입니다.
# - 도커 내부 통신을 위해 bind 0.0.0.0으로 열어둡니다.

port 6379
bind 0.0.0.0
protected-mode no

# 보안
requirepass __REDIS_PASSWORD__
masterauth __REDIS_PASSWORD__

# 복제: Sentinel이 안내하는 마스터 주소를 사용 (이중 해석 호스트네임)
# - 컨테이너 내부: redis-local -> redis-master 컨테이너 (Docker network alias)
# - 호스트(Windows): redis-local -> 127.0.0.1 (hosts 파일)
replicaof redis-local 6379

# 영속화
appendonly yes
appendfsync everysec

# 일반 설정
daemonize no
dir /data
loglevel notice

# 네트워킹 튜닝
tcp-keepalive 300
